var Profile=function(){var t=null,e={submit:function(t){var n=new FormData($(t).get(0));$(t).find(".btn-submit").addLoader(),e.disable(),$.ajax({data:n,type:"POST",contentType:!1,processData:!1,url:$(t).attr("action")}).always((function(){$(t).find(".btn-submit").removeLoader(),e.enable()})).done((function(){toastr.success(_app.constants.toastr.message.success.task,_app.constants.toastr.title.success)})).fail((function(t){toastr.error(_app.constants.toastr.message.error.task,_app.constants.toastr.title.error),null!=t.responseText?$("#createAlertText").html(t.responseText):$("#createAlertText").html(_app.constants.ajax.message.error),$("#createAlert").removeClass("m--hide").show()}))},disable:function(){$("#PersonalEmail").prop("disable",!0),$("#PhoneNumber").prop("disable",!0),$("#CivilStatus").prop("disable",!0),$("#Address").prop("disable",!0)},enable:function(){$("#PersonalEmail").prop("disable",!1),$("#PhoneNumber").prop("disable",!1),$("#CivilStatus").prop("disable",!1),$("#Address").prop("disable",!1)},reset:function(){t.resetForm()}},n={init:function(){this.civilStatus.init()},civilStatus:{init:function(){$(".select2-civilstatus").select2()}}},i={init:function(){this.btnCancel.init()},btnCancel:{init:function(){$("#btnCancel").click((function(){window.location.href="/"}))}}},a={init:function(){this.picture.init()},picture:{init:function(){$("#Picture").on("change",(function(t){var e=(t.target||window.event.srcElement).files;if(FileReader&&e&&e.length){var n=new FileReader;n.onload=function(){$("#current-picture").attr("src",n.result)},n.readAsDataURL(e[0])}else console.log("File Reader not supported.")}))}}},s=function(){t=$("#profile_form").validate({submitHandler:function(t,n){n.preventDefault(),e.submit(t)}})};return{init:function(){s(),n.init(),i.init(),a.init()}}}();$((function(){Profile.init()}));